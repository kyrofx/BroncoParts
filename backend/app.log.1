2025-05-25 05:55:43,395 INFO: User with email admin@example.com (username: admin) logged in successfully. [in /app/app/routes.py:1064]
2025-05-25 05:55:54,690 INFO: Assembly 'segsgsgegs43gge' (ID: 32) is under Subteam Assembly 'Chassis' (ID: 4). Attempting to add its name to Airtable Subsystem field options. [in /app/app/routes.py:445]
2025-05-25 05:55:54,690 INFO: Starting Airtable field choice update. API Key configured: True, Base ID: appWyhvDH5UvItLMY, Table ID/Name: tblFusLFLj1XntXee [in /app/app/services/airtable_service.py:26]
2025-05-25 05:55:56,928 INFO: Attempting to add new option 'segsgsgegs43gge' to Airtable field 'Subsystem' using metadata API. [in /app/app/services/airtable_service.py:105]
2025-05-25 05:55:56,928 INFO: URL: https://api.airtable.com/v0/meta/bases/appWyhvDH5UvItLMY/tables/tblFusLFLj1XntXee/fields/fldPOfXQnSPOvDKeL [in /app/app/services/airtable_service.py:106]
2025-05-25 05:55:56,929 INFO: Request payload: {'type': 'singleSelect', 'options': {'choices': [{'name': 'Accumulator', 'id': 'selmNw6Go8bL2E7rl', 'color': 'yellowLight2'}, {'name': 'Brake System', 'id': 'selGv8nHJRspf8WCo', 'color': 'redLight2'}, {'name': 'Cooling', 'id': 'selKwI8YSz149UuBk', 'color': 'pinkLight2'}, {'name': 'Drivetrain', 'id': 'sel6Xvth6G9zUP4sB', 'color': 'grayLight2'}, {'name': 'Ergonomics', 'id': 'sel76NC1oH6a2duIn', 'color': 'blueLight1'}, {'name': 'Frame', 'id': 'selaSd13Elqlm0bS1', 'color': 'orangeLight2'}, {'name': 'Hubs', 'id': 'selqymEgRLGEVAQfs', 'color': 'cyanLight2'}, {'name': 'Pedal Box', 'id': 'selGuCrZDAxdm8rJh', 'color': 'cyanLight1'}, {'name': 'Spring Systems', 'id': 'selE28JMRbY90kfYj', 'color': 'greenLight2'}, {'name': 'Steering', 'id': 'selOg7Ux7K3uYywCn', 'color': 'tealLight2'}, {'name': 'Suspension Structures', 'id': 'selX1aGrmFR6F4gpC', 'color': 'blueLight2'}, {'name': 'Tractive System', 'id': 'selu6lEaTlGmyx4j8', 'color': 'blueLight2'}, {'name': 'Paneling', 'id': 'sel2t2Dq5ev4IWlvH', 'color': 'cyanLight2'}, {'name': 'Data Aquisition', 'id': 'selpaLknjc5CJfaYd', 'color': 'tealLight2'}, {'name': 'PCB', 'id': 'selvVreYx2o3Zo7q8', 'color': 'orangeLight2'}, {'name': 'Accumulator Control', 'id': 'seliLIuwIU0HikpdF', 'color': 'tealLight2'}, {'name': 'Jigs', 'id': 'sel7u6YnRwgYbSeW6', 'color': 'purpleLight2'}, {'name': 'GLV Power', 'id': 'selycBv1hZBA1vOmP', 'color': 'greenLight2'}, {'name': 'Shutdown Circuit', 'id': 'selc0zUpaqJ8kD1vB', 'color': 'yellowLight2'}, {'name': 'Driver UI', 'id': 'seljw0xhvOujkgkPS', 'color': 'redLight2'}, {'name': 'segsgsgegs43gge'}]}} [in /app/app/services/airtable_service.py:107]
2025-05-25 05:55:56,929 INFO: Total choices after update: 21 [in /app/app/services/airtable_service.py:108]
2025-05-25 05:55:57,438 INFO: HTTP Response status: 422 [in /app/app/services/airtable_service.py:112]
2025-05-25 05:55:57,439 INFO: HTTP Response JSON: {'error': {'type': 'INVALID_REQUEST_UNKNOWN', 'message': 'Invalid request: parameter validation failed. Check your request data.'}} [in /app/app/services/airtable_service.py:117]
2025-05-25 05:55:57,440 ERROR: HTTPError adding option to Airtable field 'Subsystem': 422 Client Error: Unprocessable Entity for url: https://api.airtable.com/v0/meta/bases/appWyhvDH5UvItLMY/tables/tblFusLFLj1XntXee/fields/fldPOfXQnSPOvDKeL. Response: {'error': {'type': 'INVALID_REQUEST_UNKNOWN', 'message': 'Invalid request: parameter validation failed. Check your request data.'}} [in /app/app/services/airtable_service.py:131]
2025-05-25 05:55:57,441 WARNING: Could not automatically add 'segsgsgegs43gge' to Airtable Subsystem field. [in /app/app/services/airtable_service.py:167]
2025-05-25 05:55:57,442 INFO: ================================================================================ [in /app/app/services/airtable_service.py:366]
2025-05-25 05:55:57,443 INFO: MANUAL AIRTABLE ACTION REQUIRED [in /app/app/services/airtable_service.py:367]
2025-05-25 05:55:57,444 INFO: ================================================================================ [in /app/app/services/airtable_service.py:368]
2025-05-25 05:55:57,444 INFO: New assembly 'segsgsgegs43gge' was created but could not be automatically [in /app/app/services/airtable_service.py:369]
2025-05-25 05:55:57,445 INFO: added to the Airtable 'Subsystem' field options due to API restrictions. [in /app/app/services/airtable_service.py:370]
2025-05-25 05:55:57,446 INFO:  [in /app/app/services/airtable_service.py:371]
2025-05-25 05:55:57,446 INFO: MANUAL STEPS TO ADD THE OPTION: [in /app/app/services/airtable_service.py:372]
2025-05-25 05:55:57,446 INFO: 1. Open your Airtable base in a web browser [in /app/app/services/airtable_service.py:373]
2025-05-25 05:55:57,447 INFO: 2. Navigate to the table containing the 'Subsystem' field [in /app/app/services/airtable_service.py:374]
2025-05-25 05:55:57,447 INFO: 3. Click on the 'Subsystem' field header to open field settings [in /app/app/services/airtable_service.py:375]
2025-05-25 05:55:57,447 INFO: 4. In the field configuration, look for 'Options' or 'Choices' [in /app/app/services/airtable_service.py:376]
2025-05-25 05:55:57,447 INFO: 5. Add a new option with the name: 'segsgsgegs43gge' [in /app/app/services/airtable_service.py:377]
2025-05-25 05:55:57,448 INFO: 6. Choose a color for the option (suggested: gray or any available color) [in /app/app/services/airtable_service.py:378]
2025-05-25 05:55:57,448 INFO: 7. Save the field settings [in /app/app/services/airtable_service.py:379]
2025-05-25 05:55:57,448 INFO:  [in /app/app/services/airtable_service.py:380]
2025-05-25 05:55:57,448 INFO: After adding this option manually, parts created under this assembly [in /app/app/services/airtable_service.py:381]
2025-05-25 05:55:57,449 INFO: will be able to sync properly to Airtable with the correct subsystem value. [in /app/app/services/airtable_service.py:382]
2025-05-25 05:55:57,449 INFO: ================================================================================ [in /app/app/services/airtable_service.py:383]
2025-05-25 05:55:57,449 WARNING: Could not automatically add 'segsgsgegs43gge' to Airtable Subsystem field. Manual action may be required in Airtable interface. Assembly creation continues normally. [in /app/app/routes.py:451]
2025-05-25 05:55:57,449 INFO: Skipping Airtable data sync for assembly: br-A-2500 (segsgsgegs43gge). Subsystem option update (if applicable) was handled separately. [in /app/app/routes.py:471]
2025-05-25 06:01:12,007 INFO: Attempting to sync part br-P-2501 (hrhshsrhhdhh) to Airtable. [in /app/app/routes.py:459]
2025-05-25 06:01:14,123 WARNING: Airtable sync for part br-P-2501: Subsystem name 'segsgsgegs43gge' is not a valid option in Airtable. Field will be omitted. Valid options: ['Accumulator', 'Brake System', 'Cooling', 'Drivetrain', 'Ergonomics', 'Frame', 'Hubs', 'Pedal Box', 'Spring Systems', 'Steering', 'Suspension Structures', 'Tractive System', 'Paneling', 'Data Aquisition', 'PCB', 'Accumulator Control', 'Jigs', 'GLV Power', 'Shutdown Circuit', 'Driver UI'] [in /app/app/services/airtable_service.py:270]
2025-05-25 06:01:14,125 INFO: Attempting to sync part br-P-2501 to Airtable with processed data: {'Name': 'br-P-2501 - hrhshsrhhdhh', 'Subteam': 'Chassis', 'Manufacturing Quantity': 1, 'Status': 'In Design', 'Machine': 'Lathe', 'Raw material': 'esges', 'Post-process': ['Anodize'], 'Notes': 'ehsheshrs'} [in /app/app/services/airtable_service.py:331]
2025-05-25 06:01:14,526 INFO: Successfully synced part br-P-2501 to Airtable. Record ID: recBPlee6KMtchSVH [in /app/app/services/airtable_service.py:337]
2025-05-25 06:01:14,527 INFO: ================================================================================ [in /app/app/services/airtable_service.py:366]
2025-05-25 06:01:14,528 INFO: MANUAL AIRTABLE ACTION REQUIRED [in /app/app/services/airtable_service.py:367]
2025-05-25 06:01:14,529 INFO: ================================================================================ [in /app/app/services/airtable_service.py:368]
2025-05-25 06:01:14,529 INFO: New assembly 'segsgsgegs43gge' was created but could not be automatically [in /app/app/services/airtable_service.py:369]
2025-05-25 06:01:14,529 INFO: added to the Airtable 'Subsystem' field options due to API restrictions. [in /app/app/services/airtable_service.py:370]
2025-05-25 06:01:14,530 INFO:  [in /app/app/services/airtable_service.py:371]
2025-05-25 06:01:14,530 INFO: MANUAL STEPS TO ADD THE OPTION: [in /app/app/services/airtable_service.py:372]
2025-05-25 06:01:14,531 INFO: 1. Open your Airtable base in a web browser [in /app/app/services/airtable_service.py:373]
2025-05-25 06:01:14,531 INFO: 2. Navigate to the table containing the 'Subsystem' field [in /app/app/services/airtable_service.py:374]
2025-05-25 06:01:14,531 INFO: 3. Click on the 'Subsystem' field header to open field settings [in /app/app/services/airtable_service.py:375]
2025-05-25 06:01:14,532 INFO: 4. In the field configuration, look for 'Options' or 'Choices' [in /app/app/services/airtable_service.py:376]
2025-05-25 06:01:14,532 INFO: 5. Add a new option with the name: 'segsgsgegs43gge' [in /app/app/services/airtable_service.py:377]
2025-05-25 06:01:14,533 INFO: 6. Choose a color for the option (suggested: gray or any available color) [in /app/app/services/airtable_service.py:378]
2025-05-25 06:01:14,533 INFO: 7. Save the field settings [in /app/app/services/airtable_service.py:379]
2025-05-25 06:01:14,533 INFO:  [in /app/app/services/airtable_service.py:380]
2025-05-25 06:01:14,534 INFO: After adding this option manually, parts created under this assembly [in /app/app/services/airtable_service.py:381]
2025-05-25 06:01:14,534 INFO: will be able to sync properly to Airtable with the correct subsystem value. [in /app/app/services/airtable_service.py:382]
2025-05-25 06:01:14,534 INFO: ================================================================================ [in /app/app/services/airtable_service.py:383]
2025-05-25 06:01:14,534 INFO: ================================================================================ [in /app/app/services/airtable_service.py:449]
2025-05-25 06:01:14,535 INFO: MANUAL RECORD UPDATE INSTRUCTIONS [in /app/app/services/airtable_service.py:450]
