2025-05-25 01:42:26,642 INFO: Attempting to sync part br-A-1100 to Airtable with processed data: {'Name': 'br-A-1100 - gepwijgiwei', 'Subteam': 'Chassis', 'Manufacturing Quantity': 1, 'Status': 'In Design', 'Raw material': None, 'Notes': 'hiogweiw'} [in /app/app/services/airtable_service.py:169]
2025-05-25 01:42:27,155 INFO: Successfully synced part br-A-1100 to Airtable. Record ID: rec5wj9ok60Blro5z [in /app/app/services/airtable_service.py:174]
2025-05-25 01:42:27,156 INFO: Part 17 synced to Airtable. Record ID: rec5wj9ok60Blro5z [in /app/app/routes.py:476]
2025-05-25 01:46:55,817 WARNING: Airtable sync for part br-P-1101: Subsystem name 'gepwijgiwei' is not a valid option in Airtable. Field will be omitted. Valid options: ['Accumulator', 'Brake System', 'Cooling', 'Drivetrain', 'Ergonomics', 'Frame', 'Hubs', 'Pedal Box', 'Spring Systems', 'Steering', 'Suspension Structures', 'Tractive System', 'Paneling', 'Data Aquisition', 'PCB', 'Accumulator Control', 'Jigs', 'GLV Power', 'Shutdown Circuit', 'Driver UI'] [in /app/app/services/airtable_service.py:111]
2025-05-25 01:46:55,817 WARNING: Airtable sync for part br-P-1101: Post-process name 'Powder Coating' is not a valid option in Airtable. It will be excluded. Valid options: ['Sanding and Polishing', 'Welding', 'Press Fitting', 'Anvil Staking', 'Spray', 'Anodize', 'Drill & Ream', 'Countersink', 'Rivets', 'Angle Grinding', 'Deburr', 'Tapping', 'Bend'] [in /app/app/services/airtable_service.py:150]
2025-05-25 01:46:55,818 INFO: Attempting to sync part br-P-1101 to Airtable with processed data: {'Name': 'br-P-1101 - test part 123', 'Subteam': 'Chassis', 'Manufacturing Quantity': 1, 'Status': 'In Design', 'Machine': 'Lathe', 'Raw material': 'cum', 'Post-process': ['Anodize'], 'Notes': 'fheh08h'} [in /app/app/services/airtable_service.py:169]
2025-05-25 01:46:56,206 INFO: Successfully synced part br-P-1101 to Airtable. Record ID: recxTgQzmD5CS1h6K [in /app/app/services/airtable_service.py:174]
2025-05-25 01:46:56,207 INFO: Part 18 synced to Airtable. Record ID: recxTgQzmD5CS1h6K [in /app/app/routes.py:476]
2025-05-25 03:47:42,003 INFO: BroncoPartsV2 application starting up [in /app/app/__init__.py:76]
2025-05-25 03:47:42,501 INFO: BroncoPartsV2 application starting up [in /app/app/__init__.py:76]
2025-05-25 03:47:43,008 INFO: BroncoPartsV2 application starting up [in /app/app/__init__.py:76]
2025-05-25 03:48:02,222 INFO: User with email admin@example.com (username: admin) logged in successfully. [in /app/app/routes.py:1069]
2025-05-25 03:48:35,572 WARNING: Airtable sync for part br-A-1200: Subsystem name 'Chassis' is not a valid option in Airtable. Field will be omitted. Valid options: ['Accumulator', 'Brake System', 'Cooling', 'Drivetrain', 'Ergonomics', 'Frame', 'Hubs', 'Pedal Box', 'Spring Systems', 'Steering', 'Suspension Structures', 'Tractive System', 'Paneling', 'Data Aquisition', 'PCB', 'Accumulator Control', 'Jigs', 'GLV Power', 'Shutdown Circuit', 'Driver UI'] [in /app/app/services/airtable_service.py:213]
2025-05-25 03:48:35,574 INFO: Attempting to sync part br-A-1200 to Airtable with processed data: {'Name': 'br-A-1200 - 3j09geg', 'Subteam': 'Chassis', 'Manufacturing Quantity': 1, 'Status': 'In Design', 'Raw material': None, 'Notes': 'wehhifwe'} [in /app/app/services/airtable_service.py:271]
2025-05-25 03:48:35,969 INFO: Successfully synced part br-A-1200 to Airtable. Record ID: recxBWOBo4X5AgLTp [in /app/app/services/airtable_service.py:276]
2025-05-25 03:48:35,970 INFO: Part 19 synced to Airtable. Record ID: recxBWOBo4X5AgLTp [in /app/app/routes.py:506]
2025-05-25 03:55:06,474 INFO: BroncoPartsV2 application starting up [in /app/app/__init__.py:76]
2025-05-25 03:55:07,017 INFO: BroncoPartsV2 application starting up [in /app/app/__init__.py:76]
2025-05-25 03:55:07,589 INFO: BroncoPartsV2 application starting up [in /app/app/__init__.py:76]
2025-05-25 03:55:18,589 INFO: Assembly 'fesh0shh' (ID: 20) is under Subteam Assembly 'Chassis' (ID: 4). Attempting to add its name to Airtable Subsystem field options. [in /app/app/routes.py:445]
2025-05-25 03:55:20,452 ERROR: Error fetching Airtable schema for field 'Subsystem': 'str' object has no attribute 'value' [in /app/app/services/airtable_service.py:62]
Traceback (most recent call last):
  File "/app/app/services/airtable_service.py", line 53, in _update_airtable_field_choices
    choice_data["color"] = choice.color.value
                          ^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'value'
2025-05-25 03:55:20,454 WARNING: Failed to add/ensure 'fesh0shh' as an option in Airtable Subsystem field. Check Airtable logs. [in /app/app/routes.py:451]
2025-05-25 03:55:20,456 INFO: Skipping Airtable data sync for assembly: br-A-1300 (fesh0shh). Subsystem option update (if applicable) was handled separately. [in /app/app/routes.py:469]
2025-05-25 03:55:20,977 WARNING: Airtable sync for part br-A-1300: Subsystem name 'Chassis' is not a valid option in Airtable. Field will be omitted. Valid options: ['Accumulator', 'Brake System', 'Cooling', 'Drivetrain', 'Ergonomics', 'Frame', 'Hubs', 'Pedal Box', 'Spring Systems', 'Steering', 'Suspension Structures', 'Tractive System', 'Paneling', 'Data Aquisition', 'PCB', 'Accumulator Control', 'Jigs', 'GLV Power', 'Shutdown Circuit', 'Driver UI'] [in /app/app/services/airtable_service.py:213]
2025-05-25 03:55:20,977 INFO: Attempting to sync part br-A-1300 to Airtable with processed data: {'Name': 'br-A-1300 - fesh0shh', 'Subteam': 'Chassis', 'Manufacturing Quantity': 1, 'Status': 'In Design', 'Raw material': None, 'Notes': 'ge-9sw-j'} [in /app/app/services/airtable_service.py:271]
2025-05-25 03:55:21,403 INFO: Successfully synced part br-A-1300 to Airtable. Record ID: rec15MWidbg7d9Urg [in /app/app/services/airtable_service.py:276]
2025-05-25 03:55:21,406 INFO: Part 20 synced to Airtable. Record ID: rec15MWidbg7d9Urg [in /app/app/routes.py:514]
2025-05-25 04:03:22,056 INFO: BroncoPartsV2 application starting up [in /app/app/__init__.py:76]
2025-05-25 04:03:22,657 INFO: BroncoPartsV2 application starting up [in /app/app/__init__.py:76]
2025-05-25 04:03:23,266 INFO: BroncoPartsV2 application starting up [in /app/app/__init__.py:76]
2025-05-25 04:03:30,762 INFO: User with email admin@example.com (username: admin) logged in successfully. [in /app/app/routes.py:1062]
2025-05-25 04:03:43,464 INFO: Assembly 'hello123123' (ID: 21) is under Subteam Assembly 'Chassis' (ID: 4). Attempting to add its name to Airtable Subsystem field options. [in /app/app/routes.py:445]
2025-05-25 04:03:43,464 INFO: Starting Airtable field choice update. API Key configured: True, Base ID: appWyhvDH5UvItLMY, Table ID/Name: tblFusLFLj1XntXee [in /app/app/services/airtable_service.py:26]
2025-05-25 04:03:45,332 ERROR: Error fetching Airtable schema for field 'Subsystem': 'str' object has no attribute 'value' [in /app/app/services/airtable_service.py:64]
Traceback (most recent call last):
  File "/app/app/services/airtable_service.py", line 55, in _update_airtable_field_choices
    choice_data["color"] = choice.color.value
                          ^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'value'
2025-05-25 04:03:45,333 WARNING: Failed to add/ensure 'hello123123' as an option in Airtable Subsystem field. Check Airtable logs. [in /app/app/routes.py:451]
2025-05-25 04:03:45,333 INFO: Skipping Airtable data sync for assembly: br-A-1400 (hello123123). Subsystem option update (if applicable) was handled separately. [in /app/app/routes.py:469]
2025-05-25 04:06:16,970 INFO: BroncoPartsV2 application starting up [in /app/app/__init__.py:76]
2025-05-25 04:06:17,539 INFO: BroncoPartsV2 application starting up [in /app/app/__init__.py:76]
2025-05-25 04:06:18,171 INFO: BroncoPartsV2 application starting up [in /app/app/__init__.py:76]
2025-05-25 04:06:25,291 INFO: Assembly 'gsehohsh' (ID: 22) is under Subteam Assembly 'Chassis' (ID: 4). Attempting to add its name to Airtable Subsystem field options. [in /app/app/routes.py:445]
2025-05-25 04:06:25,292 INFO: Starting Airtable field choice update. API Key configured: True, Base ID: appWyhvDH5UvItLMY, Table ID/Name: tblFusLFLj1XntXee [in /app/app/services/airtable_service.py:26]
2025-05-25 04:06:26,047 INFO: Attempting to update choices for Airtable field 'Subsystem' (ID: fldPOfXQnSPOvDKeL) with new option: 'gsehohsh'. URL: https://api.airtable.com/v0/meta/bases/appWyhvDH5UvItLMY/tables/tblFusLFLj1XntXee/fields/fldPOfXQnSPOvDKeL [in /app/app/services/airtable_service.py:92]
2025-05-25 04:06:26,047 INFO: Request payload: {'options': {'choices': [{'name': 'Accumulator', 'id': 'selmNw6Go8bL2E7rl', 'color': 'yellowLight2'}, {'name': 'Brake System', 'id': 'selGv8nHJRspf8WCo', 'color': 'redLight2'}, {'name': 'Cooling', 'id': 'selKwI8YSz149UuBk', 'color': 'pinkLight2'}, {'name': 'Drivetrain', 'id': 'sel6Xvth6G9zUP4sB', 'color': 'grayLight2'}, {'name': 'Ergonomics', 'id': 'sel76NC1oH6a2duIn', 'color': 'blueLight1'}, {'name': 'Frame', 'id': 'selaSd13Elqlm0bS1', 'color': 'orangeLight2'}, {'name': 'Hubs', 'id': 'selqymEgRLGEVAQfs', 'color': 'cyanLight2'}, {'name': 'Pedal Box', 'id': 'selGuCrZDAxdm8rJh', 'color': 'cyanLight1'}, {'name': 'Spring Systems', 'id': 'selE28JMRbY90kfYj', 'color': 'greenLight2'}, {'name': 'Steering', 'id': 'selOg7Ux7K3uYywCn', 'color': 'tealLight2'}, {'name': 'Suspension Structures', 'id': 'selX1aGrmFR6F4gpC', 'color': 'blueLight2'}, {'name': 'Tractive System', 'id': 'selu6lEaTlGmyx4j8', 'color': 'blueLight2'}, {'name': 'Paneling', 'id': 'sel2t2Dq5ev4IWlvH', 'color': 'cyanLight2'}, {'name': 'Data Aquisition', 'id': 'selpaLknjc5CJfaYd', 'color': 'tealLight2'}, {'name': 'PCB', 'id': 'selvVreYx2o3Zo7q8', 'color': 'orangeLight2'}, {'name': 'Accumulator Control', 'id': 'seliLIuwIU0HikpdF', 'color': 'tealLight2'}, {'name': 'Jigs', 'id': 'sel7u6YnRwgYbSeW6', 'color': 'purpleLight2'}, {'name': 'GLV Power', 'id': 'selycBv1hZBA1vOmP', 'color': 'greenLight2'}, {'name': 'Shutdown Circuit', 'id': 'selc0zUpaqJ8kD1vB', 'color': 'yellowLight2'}, {'name': 'Driver UI', 'id': 'seljw0xhvOujkgkPS', 'color': 'redLight2'}, {'name': 'gsehohsh'}]}} [in /app/app/services/airtable_service.py:93]
